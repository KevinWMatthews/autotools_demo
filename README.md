# Introduction to Autotools

This project is based on John Calcote's book "Autotools: A Practioner's Guide to Gnu Autoconf, Automake, and Libtool".
Follow along at [Free Software Magazine](http://freesoftwaremagazine.com/books/autotools_a_guide_to_autoconf_automake_libtool/).

## Getting Started

This project is designed for an out-of-tree build in the directory `build/`.
This prevents object files from cluttering up the source directory.

To build the code, run:
```bash
$ cd build
$ autoreconf -iv ..
$ ../configure
$ make
```

As with all Autotools projects, you can set the installation directory by passing the option `--prefix=/p/a/t/h/` to the `configure` script:
```bash
$ ../configure --prefix=/path/to/install/dir
$ make install
```

Installation can be undone using:
```bash
$ make uninstall
```

## Cleaning

### Delete build results
Autotools provides the standard target for deleting build results:
```bash
$ make clean
```

### Delete configure results

Autotools also provides options for deleting files generated by Makefiles:

```bash
$ make distclean
# or
$ make maintainer-clean
```
The distinctions between the two are subtle and currently out-of-scope,
but both require/force the user to re-run the `configure` script.

### Delete all generated files

Autotools generates quite a few supporting files and directories in the project directory even when configured for an out-of-tree build.
These files can be specific to the system that ran Autoconf and should not be committed to the project.
The `.gitignore` file has been designed to specifically ignore all of these generated files.
This set of generated files must be removed manually; neither `distclean` or `maintainer-clean` will delete them.

To remove *all* Autotools files and build results, use:
```bash
$ git clean -fdX
```
This will return the repo to a clean state.

In detail,

| Option | Description                              |
|--------|------------------------------------------|
| -f     | Force - actually delete files            |
| -d     | Delete directories in addition to files  |
| -X     | Remove *only* files ignored by git       |

The uppercase `-X` flag is critical; since the `.gitignore` file is configured to ignore build results and generated files,
passing `-X` will effectively clean the repository.
